<?xml version="1.0"?>
<ruleset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="PHPCompatibilitySymfonyPolyfillPHP56" xsi:noNamespaceSchemaLocation="https://schema.phpcodesniffer.com/phpcs.xsd">

    <description>PHPCompatibility ruleset for PHP_CodeSniffer which accounts for polyfills provided by the Symfony PHP 5.6 libary.</description>

    <rule ref="PHPCompatibility">
        <!-- https://github.com/symfony/polyfill-php56/blob/v1.19.0/bootstrap.php -->
        <exclude name="PHPCompatibility.FunctionUse.NewFunctions.hash_equalsFound"/>
        <exclude name="PHPCompatibility.FunctionUse.NewFunctions.ldap_escapeFound"/>
        <exclude name="PHPCompatibility.Constants.NewConstants.ldap_escape_filterFound"/>
        <exclude name="PHPCompatibility.Constants.NewConstants.ldap_escape_dnFound"/>
    </rule>

    <!-- Prevent false positives being thrown when run over the code of polyfill-util itself. -->
    <rule ref="PHPCompatibility.FunctionUse.NewFunctionParameters.strrchr_before_needleFound">
        <!-- This looks to be a bug in the polyfill code, but probably pretty much an edge case
             and if it hasn't been reported to Symfony so far, leave it be. -->
        <exclude-pattern>/polyfill-util/BinaryNoFuncOverload\.php$</exclude-pattern>
    </rule>

</ruleset>
